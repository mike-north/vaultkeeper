<!-- Do not edit this file. It is automatically generated by API Documenter. -->

[Home](./index.md) &gt; [vaultkeeper](./vaultkeeper.md) &gt; [KeyManager](./vaultkeeper.keymanager.md)

## KeyManager class

Manage cryptographic keys with rotation and grace-period semantics.

**Signature:**

```typescript
declare class KeyManager 
```

## Methods

<table><thead><tr><th>

Method


</th><th>

Modifiers


</th><th>

Description


</th></tr></thead>
<tbody><tr><td>

[findKeyById(kid)](./vaultkeeper.keymanager.findkeybyid.md)


</td><td>


</td><td>

Find a key by its id, searching current then previous. Returns `undefined` if the key is not found (or the previous key's grace period has expired).


</td></tr>
<tr><td>

[generateKey()](./vaultkeeper.keymanager.generatekey.md)


</td><td>


</td><td>

Generate a new 32-byte key with a timestamp-based id.


</td></tr>
<tr><td>

[getCurrentKey()](./vaultkeeper.keymanager.getcurrentkey.md)


</td><td>


</td><td>

Return the current (encryption) key. Throws if not initialized.


</td></tr>
<tr><td>

[getPreviousKey()](./vaultkeeper.keymanager.getpreviouskey.md)


</td><td>


</td><td>

Return the previous key if we are still inside a grace period, otherwise `undefined`<!-- -->.


</td></tr>
<tr><td>

[init()](./vaultkeeper.keymanager.init.md)


</td><td>


</td><td>

Initialize the manager with a freshly generated key. Safe to call multiple times; subsequent calls are no-ops.


</td></tr>
<tr><td>

[isInGracePeriod()](./vaultkeeper.keymanager.isingraceperiod.md)


</td><td>


</td><td>

Return `true` while a rotation grace period is active (i.e. the previous key is still accessible).


</td></tr>
<tr><td>

[revokeKey()](./vaultkeeper.keymanager.revokekey.md)


</td><td>


</td><td>

Emergency revocation: immediately clear the previous key and generate a brand-new current key. Any in-flight grace period is cancelled.


</td></tr>
<tr><td>

[rotateKey(gracePeriodMs)](./vaultkeeper.keymanager.rotatekey.md)


</td><td>


</td><td>

Rotate the current key: the current key becomes previous, a new key becomes current. A grace-period timer is started; when it fires the previous key is cleared automatically.


</td></tr>
</tbody></table>

