<!-- Do not edit this file. It is automatically generated by API Documenter. -->

[Home](./index.md) &gt; [vaultkeeper](./vaultkeeper.md) &gt; [VaultKeeper](./vaultkeeper.vaultkeeper.md) &gt; [fetch](./vaultkeeper.vaultkeeper.fetch.md)

## VaultKeeper.fetch() method

Execute a delegated HTTP fetch, injecting the secret from the token.

The secret value is substituted for every `{{secret}}` placeholder found in `request.url`<!-- -->, `request.headers`<!-- -->, and `request.body` before the fetch is executed. The raw secret is never exposed in the return value.

**Signature:**

```typescript
fetch(token: CapabilityToken, request: FetchRequest): Promise<{
        response: Response;
        vaultResponse: VaultResponse;
    }>;
```

## Parameters

<table><thead><tr><th>

Parameter


</th><th>

Type


</th><th>

Description


</th></tr></thead>
<tbody><tr><td>

token


</td><td>

[CapabilityToken](./vaultkeeper.capabilitytoken.md)


</td><td>

A `CapabilityToken` obtained from `authorize()`<!-- -->.


</td></tr>
<tr><td>

request


</td><td>

[FetchRequest](./vaultkeeper.fetchrequest.md)


</td><td>

The fetch request template. Use `{{secret}}` as a placeholder wherever the secret value should be injected.


</td></tr>
</tbody></table>

**Returns:**

Promise&lt;{ response: Response; vaultResponse: [VaultResponse](./vaultkeeper.vaultresponse.md)<!-- -->; }&gt;

The `Response` from the underlying `fetch()` call, together with the vault metadata (`vaultResponse`<!-- -->).

## Exceptions

{<!-- -->Error<!-- -->} If `token` is invalid or was not created by this vault instance.

