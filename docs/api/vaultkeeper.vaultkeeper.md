<!-- Do not edit this file. It is automatically generated by API Documenter. -->

[Home](./index.md) &gt; [vaultkeeper](./vaultkeeper.md) &gt; [VaultKeeper](./vaultkeeper.vaultkeeper.md)

## VaultKeeper class

Main entry point for vaultkeeper. Orchestrates backends, keys, JWE tokens, identity verification, and access patterns.

**Signature:**

```typescript
declare class VaultKeeper 
```

## Methods

<table><thead><tr><th>

Method


</th><th>

Modifiers


</th><th>

Description


</th></tr></thead>
<tbody><tr><td>

[authorize(jwe)](./vaultkeeper.vaultkeeper.authorize.md)


</td><td>


</td><td>

Decrypt a JWE, validate claims, verify executable identity, and return an opaque CapabilityToken.


</td></tr>
<tr><td>

[doctor()](./vaultkeeper.vaultkeeper.doctor.md)


</td><td>

`static`


</td><td>

Run doctor checks without full initialization.


</td></tr>
<tr><td>

[exec(token, request)](./vaultkeeper.vaultkeeper.exec.md)


</td><td>


</td><td>

Execute a delegated command, injecting the secret from the token.

The secret value is substituted for every `{{secret}}` placeholder found in `request.args` and `request.env` values before the process is spawned. The raw secret is never exposed in the return value.


</td></tr>
<tr><td>

[fetch(token, request)](./vaultkeeper.vaultkeeper.fetch.md)


</td><td>


</td><td>

Execute a delegated HTTP fetch, injecting the secret from the token.

The secret value is substituted for every `{{secret}}` placeholder found in `request.url`<!-- -->, `request.headers`<!-- -->, and `request.body` before the fetch is executed. The raw secret is never exposed in the return value.


</td></tr>
<tr><td>

[getSecret(token)](./vaultkeeper.vaultkeeper.getsecret.md)


</td><td>


</td><td>

Create a controlled-direct `SecretAccessor` from a capability token.

The accessor wraps the secret in a single-use, auto-zeroing `Buffer`<!-- -->. The secret is accessible only through the `read()` callback and is zeroed immediately after the callback returns.


</td></tr>
<tr><td>

[init(options)](./vaultkeeper.vaultkeeper.init.md)


</td><td>

`static`


</td><td>

Initialize a new VaultKeeper instance. Runs doctor checks (unless skipped), loads config, and sets up the key manager.


</td></tr>
<tr><td>

[revokeKey()](./vaultkeeper.vaultkeeper.revokekey.md)


</td><td>


</td><td>

Emergency key revocation â€” invalidates the previous key immediately.

After revocation, any JWE that was encrypted with the revoked key will be permanently unreadable. A new encryption key is generated automatically so that `setup()` can be called immediately after revocation.


</td></tr>
<tr><td>

[rotateKey()](./vaultkeeper.vaultkeeper.rotatekey.md)


</td><td>


</td><td>

Rotate the current encryption key.

The previous key remains valid for decryption during the grace period configured in `keyRotation.gracePeriodDays`<!-- -->. JWEs presented during the grace period return a `rotatedJwt` in the `VaultResponse` so callers can persist the updated token.


</td></tr>
<tr><td>

[setDevelopmentMode(executablePath, enabled)](./vaultkeeper.vaultkeeper.setdevelopmentmode.md)


</td><td>


</td><td>

Add or remove an executable from the development-mode whitelist.

When an executable is in the development-mode list, identity verification (TOFU hash checking) is skipped for that executable during `setup()`<!-- -->. This is intended for local development workflows where the binary changes frequently.


</td></tr>
<tr><td>

[setup(secretName, options)](./vaultkeeper.vaultkeeper.setup.md)


</td><td>


</td><td>

Store a secret and return a JWE token that encapsulates it.


</td></tr>
</tbody></table>

