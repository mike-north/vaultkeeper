<!-- Do not edit this file. It is automatically generated by API Documenter. -->

[Home](./index.md) &gt; [vaultkeeper](./vaultkeeper.md) &gt; [VaultKeeper](./vaultkeeper.vaultkeeper.md) &gt; [exec](./vaultkeeper.vaultkeeper.exec.md)

## VaultKeeper.exec() method

Execute a delegated command, injecting the secret from the token.

The secret value is substituted for every `{{secret}}` placeholder found in `request.args` and `request.env` values before the process is spawned. The raw secret is never exposed in the return value.

**Signature:**

```typescript
exec(token: CapabilityToken, request: ExecRequest): Promise<{
        result: ExecResult;
        vaultResponse: VaultResponse;
    }>;
```

## Parameters

<table><thead><tr><th>

Parameter


</th><th>

Type


</th><th>

Description


</th></tr></thead>
<tbody><tr><td>

token


</td><td>

[CapabilityToken](./vaultkeeper.capabilitytoken.md)


</td><td>

A `CapabilityToken` obtained from `authorize()`<!-- -->.


</td></tr>
<tr><td>

request


</td><td>

[ExecRequest](./vaultkeeper.execrequest.md)


</td><td>

The exec request template. Use `{{secret}}` as a placeholder wherever the secret value should be injected.


</td></tr>
</tbody></table>

**Returns:**

Promise&lt;{ result: [ExecResult](./vaultkeeper.execresult.md)<!-- -->; vaultResponse: [VaultResponse](./vaultkeeper.vaultresponse.md)<!-- -->; }&gt;

The command result (`stdout`<!-- -->, `stderr`<!-- -->, `exitCode`<!-- -->) together with the vault metadata (`vaultResponse`<!-- -->).

## Exceptions

{<!-- -->Error<!-- -->} If `token` is invalid or was not created by this vault instance.

